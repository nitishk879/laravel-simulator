function updateArrayPcv(){for(what=!0,counter_r++,flow=Number(document.getElementById("flow").value),pmus=Number(document.getElementById("pmus").value),rrBpm=Number(document.getElementById("rrBpm").value),cst=Number(document.getElementById("cst").value),rva=Number(document.getElementById("rva").value),peep=Number(document.getElementById("peep").value),inspPause=Number(document.getElementById("inspPause").value),flow_rpm=Number(document.getElementById("flow_rpm").value),inspTime=Number(document.getElementById("inspTime").value),DeltaP=Number(document.getElementById("DeltaP").value),vlume=40*(DeltaP-15)+714,Insp_Hold=!1,Exp_Hold=!1,h=12,expTime=60/flow_rpm-inspTime,K1=inspTime/30,K2=expTime/30,c84=5,T_i_v_pcv=0,t_c_1_pcv=inspTime/3*.1,t_v_1_pcv=[],t_pcv=0,c=0;c<=30;)t_v_1_pcv.push(t_pcv),t_pcv+=t_c_1_pcv,c+=1;for(t_c_pcv=[],c=0;c<3;c++)t_c_pcv.push(t_v_1_pcv.slice(-1)[0]);for(t_c_2_pcv=expTime/3*.1,t_v_2_pcv=[],t_v_2_pcv.push(Math.round(100*(t_c_2_pcv+t_v_1_pcv.slice(-1)[0]))/100),c=1;c<=29;)t_v_2_pcv.push(t_c_2_pcv+t_v_2_pcv[c-1]),c+=1;f_t_v_pcv=t_v_1_pcv.concat(t_c_pcv),f_t_v_pcv=f_t_v_pcv.concat(t_v_2_pcv);const _=1.25*rrBpm>15?1.25*rrBpm:15;for(U_v_pcv=[],c=0;c<f_t_v_pcv.length;c++)u=-pmus*Math.sin(Math.PI**2/90*f_t_v_pcv[c]*_),U_v_pcv.push(u);for(v_pcv=vlume/(3.5*cst)+2.5,w_v_pcv=[],j=0;j<63;j++)U_v_pcv[j+1]>U_v_pcv[j]?w_v_pcv.push("Salita"):U_v_pcv[j]>-(v_pcv+2)?w_v_pcv.push("insuff"):w_v_pcv.push("suff");for(x_v_pcv=[" "],c=1;c<63;c++)"insuff"===w_v_pcv[c]?x_v_pcv.push(" "):"Salita"===w_v_pcv[c]?x_v_pcv.push(" "):"suff"===w_v_pcv[c]?"suff"===w_v_pcv[c-1]?x_v_pcv.push(" "):x_v_pcv.push(f_t_v_pcv[c]):x_v_pcv.push(" ");for(y_v_pcv=[],c=0;c<30;c++)Number(x_v_pcv[c])===x_v_pcv[c]&&x_v_pcv[c]%1!=0?y_v_pcv.push(x_v_pcv[c]):y_v_pcv.push(0);y_min_1_pcv=[],y_min_2_pcv=[];for(var p=0;p<y_v_pcv.length;p++)0===(c=y_v_pcv[p])?y_min_1_pcv.push(c):y_min_2_pcv.push(c);const v=0===y_min_2_pcv.length?0:Math.min(y_min_2_pcv).toFixed(3);for(y_pcv=parseFloat(v),ab1_pcv=[],c=0;c<34;c++)ab1_pcv.push("");for(ab2_pcv=[],c=34;c<64;c++)f_t_v_pcv[c]>inspTime+expTime-y_pcv?ab2_pcv.push(1):ab2_pcv.push(0);for(ab_v_pcv=ab1_pcv.concat(ab2_pcv),ac_pcv=0,ac_l_pcv=[],c=34;c<64;c++)ac_l_pcv.push(ac_pcv),ac_pcv+=t_c_2_pcv*ab_v_pcv[c];for(ac_v_pcv=[],ac_v_pcv=ab1_pcv.concat(ac_l_pcv),ad_l_pcv=[],c=34;c<64;c++)ad=-pmus*Math.sin(Math.PI**2/90*ac_v_pcv[c]*_),ad_l_pcv.push(ad);for(ad2_pcv=[],c=0;c<34;c++)ad2_pcv.push(0);for(ad_v_pcv=ad2_pcv.concat(ad_l_pcv),z_v_pcv=[],c=0;c<f_t_v_pcv.length;c++){let p=-pmus*Math.sin(Math.PI**2/90*(f_t_v_pcv[c]+y_pcv)*_);p<0?z_v_pcv.push(p):z_v_pcv.push(0)}for(ae_v_pcv=[z_v_pcv[0]],c=1;c<64;c++)0===ae_v_pcv[c-1]?ae_v_pcv.push(0):ae_v_pcv.push(z_v_pcv[c]);for(af_v_pcv=[],c=0;c<64;c++)af_v_pcv.push(ae_v_pcv[c]+ad_v_pcv[c]);for(Q_v_pcv=[],0===af_v_pcv?Q_v_pcv.push(peep):Q_v_pcv.push(peep-2),Q_v_pcv.push((peep+h)/2),Q_v_pcv.push(peep+h),c=0;c<27;c++)Q_v_pcv.push(Q_v_pcv.slice(-1)[0]);for(c=29;c<63;c++)Q_v_pcv.push(peep);for(M_pcv=[0],N_pcv=[0],P_pcv=[0],c=1;c<31;c++)x=(Q_v_pcv[c]-af_v_pcv[c]-peep-P_pcv[c-1]/cst)/(rva+1e3*K1/cst),M_pcv.push(x),M_pcv[c]>0?N_pcv.push(M_pcv[c]):N_pcv.push(0),y1=P_pcv[c-1]+N_pcv[c]*K1*1e3,P_pcv.push(y1);for(c=0;c<3;c++)M_pcv.push(" "),N_pcv.push(0),P_pcv.push(P_pcv.slice(-1)[0]);M_pcv.push((Q_v_pcv[34]-af_v_pcv[34]-peep-P_pcv[33]/cst)/(rva+peep+1e3*K2/cst)),N_pcv.push(M_pcv.slice(-1)[0]),P_pcv[33]+N_pcv[34]*K2*1e3<0?P_pcv.push(0):P_pcv.push(P_pcv[33]+N_pcv[34]*K2*1e3);for(var c=35;c<64;c++)x=(Q_v_pcv[c]-af_v_pcv[c]-peep-P_pcv[c-1]/cst)/(rva+5+1e3*K2/cst),x>0&&1===ab_v_pcv[c]?M_pcv.push(0):M_pcv.push(x),N_pcv.push(M_pcv.slice(-1)[0]),y2=P_pcv[c-1]+N_pcv[c]*K2*1e3,y2<0?P_pcv.push(0):P_pcv.push(y2);vol_pcv=[];for(var e=0;e<P_pcv.length;e++)c=P_pcv[e],vol_pcv.push(c/1e3);for(R_v_pcv=[],c=0;c<30;c++)x=peep+P_pcv[c]/cst+af_v_pcv[c],R_v_pcv.push(x);for(c=0;c<3;c++)R_v_pcv.push(R_v_pcv.slice(-1)[0]);for(let _=33;_>=64;_++)x=peep+P_pcv[_]/cst+af_v_pcv[_],R_v_pcv.push(x);for(Ratio_pcv=inspTime/(inspTime+expTime),Insp_ratio_pcv=Math.round(100*Ratio_pcv)/100,Exp_ratio_pcv=Math.round(100*(1-Ratio_pcv))/100,Insp_len_pcv=Math.round(f_t_v_pcv.length*Insp_ratio_pcv),Exp_len_pcv=Math.round(f_t_v_pcv.length*Exp_ratio_pcv),l1_count_pcv=Math.round(t_v_1_pcv.length/Insp_len_pcv),l2_count=Math.round((t_v_2_pcv.length+t_c_pcv.length)/Exp_len_pcv),time_1_pcv=[],time_1_pcv.push(f_t_v_pcv[0]),volume_1_pcv=[],volume_1_pcv.push(vol_pcv[0]),flow_1_pcv=[],flow_1_pcv.push(N_pcv[0]),pressure_1_pcv=[],pressure_1_pcv.push(Q_v_pcv[0]),l=1;l<=30;)time_1_pcv.push(f_t_v_pcv[l]),volume_1_pcv.push(vol_pcv[l]),flow_1_pcv.push(N_pcv[l]),pressure_1_pcv.push(Q_v_pcv[l]),l+=l1_count_pcv;for(time_1_pcv.push(f_t_v_pcv[33]),volume_1_pcv.push(vol_pcv[33]),flow_1_pcv.push(N_pcv[33]),pressure_1_pcv.push(Q_v_pcv[33]),c=34;c<64;c++)time_1_pcv.push(f_t_v_pcv[c]),volume_1_pcv.push(vol_pcv[c]),flow_1_pcv.push(N_pcv[c]),pressure_1_pcv.push(Q_v_pcv[c]);for(i_t=10*Number(inspPause),i_t>10&&(i_t=10),s_v_pcv=[],v_max_pcv=Math.max(...volume_1_pcv),c=0;c<volume_1_pcv.length;c++)volume_1_pcv[c]===v_max_pcv&&(vsi_pcv=c);for(repeat_v_pcv=vsi_pcv,c=0;c<vsi_pcv;c++)s_v_pcv.push(volume_1_pcv[c]);for(c=0;c<i_t;c++)s_v_pcv.push(v_max_pcv);for(;s_v_pcv.length<volume_1_pcv.length;)s_v_pcv.push(volume_1_pcv[repeat_v_pcv]),repeat_v_pcv+=1;for(s_f_pcv=[],s_f_pcv=[],zero_index_pcv=[],c=0;c<flow_1_pcv.length;c++)0===flow_1_pcv[c]&&zero_index_pcv.push(c);for(flow_zero_pcv=zero_index_pcv[1],flow_zero_to_pcv=flow_zero_pcv+i_t,c=0;c<flow_zero_pcv;c++)s_f_pcv.push(flow_1_pcv[c]);for(zero_repeat_pcv=flow_zero_pcv;flow_zero_pcv<flow_zero_to_pcv;)s_f_pcv.push(flow_1_pcv[zero_repeat_pcv]),flow_zero_pcv+=1;for(;s_f_pcv.length<flow_1_pcv.length;)s_f_pcv.push(flow_1_pcv[zero_repeat_pcv]),zero_repeat_pcv+=1;for(s_p_pcv=[],p_max_index=[],p_max_value=Math.max(...pressure_1_pcv),c=0;c<pressure_1_pcv.length;c++)pressure_1_pcv[c]===p_max_value&&p_max_index.push(c);for(rva<=2&&(slide_height=0),2<rva<8&&(slide_height=2),8<=rva<=16?slide_height=Math.round(rva/4):slide_height=6,p_slide_index=p_max_index.slice(-1)[0]+1,p_slide_value=p_max_value-slide_height,i_p=0;i_p<p_slide_index;)s_p_pcv.push(pressure_1_pcv[i_p]),i_p+=1;for(p_slide_index_to=p_slide_index+i_t;p_slide_index<=p_slide_index_to;)s_p_pcv.push(p_slide_value),p_slide_index+=1;for(remain_len=s_p_pcv.length;remain_len<pressure_1_pcv.length;)s_p_pcv.push(pressure_1_pcv[remain_len]),remain_len+=1;if(1===counter_r)for(flowtime_pcv=time_1_pcv,pressuretime_pcv=time_1_pcv,ftv_pcv=time_1_pcv,volume1_pcv=volume_1_pcv,o_variable_pcv=flow_1_pcv,AH_variable_1_pcv=pressure_1_pcv,final_time_values_pcv=time_1_pcv,final_time_values2_pcv=time_1_pcv,n_ftv_pcv=ftv_pcv,v_pcv=volume1_pcv,final1_pcv=final_time_values_pcv,final2_pcv=final_time_values2_pcv,o_pcv=o_variable_pcv,ah_pcv=AH_variable_1_pcv,c=0;c<6;c++)ftv_pcv=ftv_pcv.concat(n_ftv_pcv),volume1_pcv=volume1_pcv.concat(v_pcv),final_time_values_pcv=final_time_values_pcv.concat(final1_pcv),final_time_values2_pcv=final_time_values2_pcv.concat(final2_pcv),o_variable_pcv=o_variable_pcv.concat(o_pcv),AH_variable_1_pcv=AH_variable_1_pcv.concat(ah_pcv);for(l_pcv=s_v_pcv.length,r_v_pcv=s_v_pcv[l_pcv-1],c=0;c<l_pcv;c++)if(s_v_pcv[c]>r_v_pcv){r_i_pcv=c;break}for(r_i_pcv-=1,i_i_pcv=r_i_pcv,n_ftv_pcv=Array(),c=0;c<l_pcv&&(n_ftv_pcv[c]=s_v_pcv[i_i_pcv],i_i_pcv+=1,i_i_pcv!==l_pcv);c++);for(s_v_pcv=n_ftv_pcv,time_1_sv_pcv=[],c=0;c<s_v_pcv.length;c++)time_1_sv_pcv.push(time_1_pcv[c])}function pause(){what?what=!1:what=!0}counter=0,counter_r=0,updateArrayPcv(),chart4=new Chart(document.getElementById("line-chart4"),{type:"line",data:{labels:ftv_pcv,datasets:[{label:"",data:volume1_pcv,borderColor:"#1ABB9C",fill:!1,pointRadius:0,borderWidth:1.5}]},options:{responsive:!0,maintainAspectRatio:!1,title:{text:"World population per region (in millions)"},scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:6},display:!1}],yAxes:[{ticks:{min:0,max:.8}}]}}}),chart5=new Chart(document.getElementById("line-chart5"),{type:"line",data:{labels:final_time_values_pcv,datasets:[{label:"",data:o_variable_pcv,borderColor:"#1ABB9C",fill:!1,pointRadius:0,borderWidth:1.5}]},options:{responsive:!0,maintainAspectRatio:!1,title:{display:!1,text:"World population per region (in millions)"},scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:6},display:!1}],yAxes:[{ticks:{min:-2,max:2.5}}]}}}),chart6=new Chart(document.getElementById("line-chart6"),{type:"line",data:{labels:final_time_values2_pcv,datasets:[{label:"",data:AH_variable_1_pcv,borderColor:"#1ABB9C",fill:!1,pointRadius:0,borderWidth:1.5}]},options:{responsive:!0,maintainAspectRatio:!1,title:{display:!1,text:"World population per region (in millions)"},scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:6},display:!1}],yAxes:[{ticks:{min:0,max:20}}]}}}),window.onload=function(){var _=0,p=0,v=function(){what&&(_===time_1_sv_pcv.length&&(_=0),_===time_1_pcv.length&&(_=0),p===s_v_pcv.length&&(p=0),chart4.data.labels.push(time_1_sv_pcv[_]),chart4.data.labels.shift(),chart4.data.datasets[0].data.push(s_v_pcv[p]),chart4.data.datasets[0].data.shift(),chart4.update(),chart4.render(),chart5.data.labels.push(time_1_pcv[_]),chart5.data.labels.shift(),chart5.data.datasets[0].data.push(s_f_pcv[_]),chart5.data.datasets[0].data.shift(),chart5.update(),chart5.render(),chart6.data.labels.push(time_1_pcv[_]),chart6.data.labels.shift(),chart6.data.datasets[0].data.push(s_p_pcv[_]),chart6.data.datasets[0].data.shift(),chart6.update(),chart6.render(),_++,p++)};v(),setInterval(function(){v()},80)};
